{"ast":null,"code":"import { ref, watchEffect } from \"vue\";\nimport { inputValue } from './../../state.js';\nexport default {\n  __name: 'eurComponent',\n\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    let euConvert = ref(0);\n    let usConvert = ref(0);\n    let btcConvert = ref(0);\n    let isNotNull = ref(false);\n\n    function round_float(x, num) {\n      if (!parseInt(num)) var num = 0;\n      if (!parseFloat(x)) return false;\n      return Math.round(x * Math.pow(10, num)) / Math.pow(10, num);\n    }\n\n    fetch('https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies/eur.json').then(resp => resp.json()).then(eurChangeRate => {\n      const chfChangeRate = round_float(eurChangeRate.eur.chf, 2).toFixed(2);\n      const usChangeRate = round_float(eurChangeRate.eur.usd, 2).toFixed(2);\n      const btcChangeRate = eurChangeRate.eur.btc.toFixed(7);\n      console.log(chfChangeRate);\n      console.log(usChangeRate);\n      watchEffect(() => {\n        console.log(inputValue.value);\n\n        if (inputValue.value > 0) {\n          isNotNull.value = true;\n          euConvert.value = inputValue.value * chfChangeRate;\n          usConvert.value = inputValue.value * usChangeRate;\n          btcConvert.value = inputValue.value * btcChangeRate;\n        } else {\n          isNotNull.value = false;\n        }\n      });\n    });\n    const __returned__ = {\n      euConvert,\n      usConvert,\n      btcConvert,\n      isNotNull,\n      round_float,\n      ref,\n      watchEffect,\n      inputValue\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":"AACA,SACIA,GADJ,EAEIC,WAFJ,QAGO,KAHP;AAIA,SACIC,UADJ,QAEO,kBAFP;;;;;;;;IAIA,IAAIC,SAAS,GAAGH,GAAG,CAAC,CAAD,CAAnB;IACA,IAAII,SAAS,GAAGJ,GAAG,CAAC,CAAD,CAAnB;IACA,IAAIK,UAAU,GAAGL,GAAG,CAAC,CAAD,CAApB;IACA,IAAIM,SAAS,GAAGN,GAAG,CAAC,KAAD,CAAnB;;IAEA,SAASO,WAAT,CAAqBC,CAArB,EAAuBC,GAAvB,EAA2B;MACzB,IAAG,CAACC,QAAQ,CAACD,GAAD,CAAZ,EACE,IAAIA,GAAG,GAAC,CAAR;MACF,IAAG,CAACE,UAAU,CAACH,CAAD,CAAd,EACE,OAAO,KAAP;MACF,OAAOI,IAAI,CAACC,KAAL,CAAWL,CAAC,GAACI,IAAI,CAACE,GAAL,CAAS,EAAT,EAAYL,GAAZ,CAAb,IAA+BG,IAAI,CAACE,GAAL,CAAS,EAAT,EAAYL,GAAZ,CAAtC;IACD;;IAIDM,KAAK,CAAC,mFAAD,CAAL,CACKC,IADL,CACUC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADlB,EAEKF,IAFL,CAEUG,aAAa,IAAI;MAEnB,MAAMC,aAAa,GAAGb,WAAW,CAACY,aAAa,CAACE,GAAd,CAAkBC,GAAnB,EAAuB,CAAvB,CAAX,CAAqCC,OAArC,CAA6C,CAA7C,CAAtB;MACA,MAAMC,YAAY,GAAGjB,WAAW,CAACY,aAAa,CAACE,GAAd,CAAkBI,GAAnB,EAAuB,CAAvB,CAAX,CAAqCF,OAArC,CAA6C,CAA7C,CAArB;MACA,MAAMG,aAAa,GAAGP,aAAa,CAACE,GAAd,CAAkBM,GAAlB,CAAsBJ,OAAtB,CAA8B,CAA9B,CAAtB;MAEAK,OAAO,CAACC,GAAR,CAAYT,aAAZ;MACAQ,OAAO,CAACC,GAAR,CAAYL,YAAZ;MAEAvB,WAAW,CAAC,MAAM;QACd2B,OAAO,CAACC,GAAR,CAAY3B,UAAU,CAAC4B,KAAvB;;QACA,IAAI5B,UAAU,CAAC4B,KAAX,GAAmB,CAAvB,EAA0B;UACtBxB,SAAS,CAACwB,KAAV,GAAkB,IAAlB;UACA3B,SAAS,CAAC2B,KAAV,GAAmB5B,UAAU,CAAC4B,KAAX,GAAmBV,aAAtC;UACAhB,SAAS,CAAC0B,KAAV,GAAmB5B,UAAU,CAAC4B,KAAX,GAAmBN,YAAtC;UAEAnB,UAAU,CAACyB,KAAX,GAAoB5B,UAAU,CAAC4B,KAAX,GAAmBJ,aAAvC;QAGH,CARD,MAQO;UACHpB,SAAS,CAACwB,KAAV,GAAkB,KAAlB;QACH;MAEJ,CAdU,CAAX;IAeH,CA1BL","names":["ref","watchEffect","inputValue","euConvert","usConvert","btcConvert","isNotNull","round_float","x","num","parseInt","parseFloat","Math","round","pow","fetch","then","resp","json","eurChangeRate","chfChangeRate","eur","chf","toFixed","usChangeRate","usd","btcChangeRate","btc","console","log","value"],"sources":["C:/Users/Xy/Documents/_Code/VueJS/vue-converter/src/components/currencyConverters/eurComponent.vue"],"sourcesContent":["<script setup>\r\nimport {\r\n    ref,\r\n    watchEffect\r\n} from \"vue\";\r\nimport {\r\n    inputValue\r\n} from './../../state.js';\r\n\r\nlet euConvert = ref(0)\r\nlet usConvert = ref(0)\r\nlet btcConvert = ref(0)\r\nlet isNotNull = ref(false);\r\n\r\nfunction round_float(x,num){\r\n  if(!parseInt(num))\r\n    var num=0;\r\n  if(!parseFloat(x))\r\n    return false;\r\n  return Math.round(x*Math.pow(10,num))/Math.pow(10,num);\r\n}\r\n\r\n\r\n\r\nfetch('https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies/eur.json')\r\n    .then(resp => resp.json())\r\n    .then(eurChangeRate => {\r\n\r\n        const chfChangeRate = round_float(eurChangeRate.eur.chf,2).toFixed(2)\r\n        const usChangeRate = round_float(eurChangeRate.eur.usd,2).toFixed(2)\r\n        const btcChangeRate = eurChangeRate.eur.btc.toFixed(7)\r\n\r\n        console.log(chfChangeRate)\r\n        console.log(usChangeRate)\r\n\r\n        watchEffect(() => {\r\n            console.log(inputValue.value)\r\n            if (inputValue.value > 0) {\r\n                isNotNull.value = true;\r\n                euConvert.value = (inputValue.value * chfChangeRate)\r\n                usConvert.value = (inputValue.value * usChangeRate)\r\n\r\n                btcConvert.value = (inputValue.value * btcChangeRate)\r\n\r\n\r\n            } else {\r\n                isNotNull.value = false;\r\n            }\r\n\r\n        })\r\n    })\r\n</script>\r\n\r\n<template>\r\n<div class=\"pageSection\">Conversion d'euro</div>\r\n<div class=\"convertResult\" v-if=\"isNotNull\">\r\n    <div class=\"rates\">\r\n        <div class=\"niceText\"><b>{{inputValue}} EUR</b> équivaut à: </div>\r\n        <div class=\"normalCurrency\">\r\n            <div class=\"rate\">\r\n                <div class=\"rateValue\"><b>{{ euConvert }}</b></div>\r\n                <div class=\"rateName\">CHF</div>\r\n            </div>\r\n            <div class=\"rate\">\r\n                <div class=\"rateValue\"><b>{{ usConvert }}</b></div>\r\n                <div class=\"rateName\">USD</div>\r\n            </div>\r\n        </div>\r\n        <div class=\"cryptoCurrency\">\r\n            <div class=\"rate\">\r\n                <div class=\"rateValue\"><b>{{ btcConvert }}</b></div>\r\n                <div class=\"rateName\">BTC</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n"]},"metadata":{},"sourceType":"module"}