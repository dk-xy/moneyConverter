{"ast":null,"code":"import { ref, watchEffect } from \"vue\";\nexport default {\n  __name: 'formComponent',\n\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    Vue.filter('toCurrency', function (value) {\n      if (typeof value !== \"number\") {\n        return value;\n      }\n\n      var formatter = new Intl.NumberFormat('ch-FR', {\n        style: 'currency',\n        currency: 'CHF'\n      });\n      return formatter.format(value);\n    });\n    const chf = ref(0);\n    let euConvert = ref(0);\n    let isNotNull = ref(false);\n    fetch('https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies/chf.json').then(resp => resp.json()).then(chfChangeRate => {\n      console.log(chfChangeRate);\n      console.log(chfChangeRate.chf.eur);\n      const euChangeRate = chfChangeRate.chf.eur;\n      console.log(euChangeRate);\n      watchEffect(() => {\n        console.log(chf.value);\n\n        if (chf.value > 0) {\n          isNotNull.value = true;\n          euConvert.value = chf.value * euChangeRate;\n        } else {\n          isNotNull.value = false;\n        }\n      });\n    });\n    const __returned__ = {\n      chf,\n      euConvert,\n      isNotNull,\n      ref,\n      watchEffect\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":"AACA,SAASA,GAAT,EAAcC,WAAd,QAAiC,KAAjC;;;;;;;;IAEAC,GAAG,CAACC,MAAJ,CAAW,YAAX,EAAyB,UAAUC,KAAV,EAAiB;MACtC,IAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;QAC3B,OAAOA,KAAP;MACH;;MACD,IAAIC,SAAS,GAAG,IAAIC,IAAI,CAACC,YAAT,CAAsB,OAAtB,EAA+B;QAC3CC,KAAK,EAAE,UADoC;QAE3CC,QAAQ,EAAE;MAFiC,CAA/B,CAAhB;MAIA,OAAOJ,SAAS,CAACK,MAAV,CAAiBN,KAAjB,CAAP;IACH,CATD;IAYA,MAAMO,GAAG,GAAGX,GAAG,CAAC,CAAD,CAAf;IACA,IAAIY,SAAS,GAAGZ,GAAG,CAAC,CAAD,CAAnB;IACA,IAAIa,SAAS,GAAGb,GAAG,CAAC,KAAD,CAAnB;IAEAc,KAAK,CAAC,mFAAD,CAAL,CACCC,IADD,CACMC,IAAI,IAAEA,IAAI,CAACC,IAAL,EADZ,EAECF,IAFD,CAEMG,aAAa,IAAI;MACnBC,OAAO,CAACC,GAAR,CAAYF,aAAZ;MACAC,OAAO,CAACC,GAAR,CAAYF,aAAa,CAACP,GAAd,CAAkBU,GAA9B;MACA,MAAMC,YAAY,GAAGJ,aAAa,CAACP,GAAd,CAAkBU,GAAvC;MACAF,OAAO,CAACC,GAAR,CAAYE,YAAZ;MAEArB,WAAW,CAAC,MAAI;QAChBkB,OAAO,CAACC,GAAR,CAAYT,GAAG,CAACP,KAAhB;;QACA,IAAGO,GAAG,CAACP,KAAJ,GAAU,CAAb,EAAe;UACXS,SAAS,CAACT,KAAV,GAAkB,IAAlB;UACAQ,SAAS,CAACR,KAAV,GAAmBO,GAAG,CAACP,KAAJ,GAAUkB,YAA7B;QACH,CAHD,MAGO;UACHT,SAAS,CAACT,KAAV,GAAkB,KAAlB;QACH;MAIJ,CAXc,CAAX;IAYH,CApBD","names":["ref","watchEffect","Vue","filter","value","formatter","Intl","NumberFormat","style","currency","format","chf","euConvert","isNotNull","fetch","then","resp","json","chfChangeRate","console","log","eur","euChangeRate"],"sources":["C:/Users/Xy/Documents/_Code/VueJS/vue-converter/src/components/formComponent.vue"],"sourcesContent":["<script setup>\r\nimport { ref, watchEffect } from \"vue\";\r\n\r\nVue.filter('toCurrency', function (value) {\r\n    if (typeof value !== \"number\") {\r\n        return value;\r\n    }\r\n    var formatter = new Intl.NumberFormat('ch-FR', {\r\n        style: 'currency',\r\n        currency: 'CHF'\r\n    });\r\n    return formatter.format(value);\r\n});\r\n\r\n\r\nconst chf = ref(0);\r\nlet euConvert = ref(0)\r\nlet isNotNull = ref(false);\r\n\r\nfetch('https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies/chf.json')\r\n.then(resp=>resp.json())\r\n.then(chfChangeRate => {\r\n    console.log(chfChangeRate)\r\n    console.log(chfChangeRate.chf.eur)\r\n    const euChangeRate = chfChangeRate.chf.eur\r\n    console.log(euChangeRate)\r\n\r\n    watchEffect(()=>{\r\n    console.log(chf.value)\r\n    if(chf.value>0){\r\n        isNotNull.value = true;\r\n        euConvert.value = (chf.value*euChangeRate)\r\n    } else {\r\n        isNotNull.value = false;\r\n    }\r\n\r\n\r\n\r\n})\r\n})\r\n\r\n\r\n\r\n</script>\r\n\r\n<template>\r\n<form @submit.prevent=\"convert\" id=\"convertForm\">\r\n    <div class=\"formInput\">\r\n        <label for=\"chf\">Valeur en CHF</label>\r\n        <input v-model=\"chf\" placeholder=\"Valeur en CHF\" type=\"number\" id=\"convertFormValue\" required>\r\n\r\n    </div>\r\n</form>\r\n\r\n<div v-if=\"isNotNull\">\r\n\r\n{{ euConvert }}\r\n\r\n</div>\r\n</template>\r\n"]},"metadata":{},"sourceType":"module"}